<!--
  ~ Copyright (C) 2017/2022 e-voyageurs technologies
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<nb-card ngClass="px-2 py-1">
    <nb-card-body class="d-flex align-items-center flex-wrap">
        <div class="col-4 d-none justify-content-between">

            <nb-select [size]="'small'" placeholder="Tags">
                <nb-option value="1">
                    Tag 1
                </nb-option>
                <nb-option value="2">
                    Tag 2
                </nb-option>
            </nb-select>
            <nb-checkbox ngClass="ml-2 d-flex">Active</nb-checkbox>

            <div class="d-flex justify-content-between align-items-center">
                <button shape="round" size="small" nbButton status="primary">
                    <nb-icon icon="star"></nb-icon>
                    75% Confidence
                    <nb-icon ngClass="ml-2 mr-0" icon="chevron-down-outline"></nb-icon>
                </button>
            </div>
            <div class="tock-divider"></div>
        </div>

        <div class="col-4 d-flex justify-content-between p-0">
            <nb-form-field ngClass="d-flex">
                <div class="nb-form-field-addon nb-form-field-prefix-medium nb-form-field-addon-basic">
                    <nb-icon [ngClass]="'tock--no-select'" nbPrefix pack="material-icons" icon="search"></nb-icon>
                </div>
                <div class="nb-form-control-container nb-form-field-control-with-prefix tock-bar-search">
                    <input type="text"
                           placeholder="Search"
                           [(ngModel)]="filter.search"
                           (keyup.enter)="search()"
                           [ngModelChangeDebounceTime]="1000"
                           (ngModelChangeDebounced)="searchChange($event)"
                           fullWidth fieldSize="medium" nbInput />
                </div>
                <div *ngIf="!!filter.search"
                     (click)="clearSearch()"
                     class="tock-input-clear nb-form-field-addon nb-form-field-suffix-medium nb-form-field-addon-basic">
                  <nb-icon nbPrefix pack="material-icons" icon="clear"></nb-icon>
                </div>
            </nb-form-field>
            <div class="tock-divider ml-2"></div>

            <button class="d-flex float-right" (click)="toggleSort()" ghost status="primary" size="small" nbButton>
                <nb-icon nbPrefix pack="material-icons" icon="sort"></nb-icon>
                Recent
              <ng-container *ngIf="isAscending; else isDescending">
                <nb-icon [ngClass]="'ml-1'" nbPrefix icon="arrow-down-outline"></nb-icon>
              </ng-container>

              <ng-template #isDescending>
                <nb-icon [ngClass]="'ml-1'" nbPrefix icon="arrow-up-outline"></nb-icon>
              </ng-template>


            </button>

        </div>
    </nb-card-body>
</nb-card>
