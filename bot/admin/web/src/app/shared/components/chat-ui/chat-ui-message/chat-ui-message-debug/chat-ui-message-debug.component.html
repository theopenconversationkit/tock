<!--
  ~ Copyright (C) 2017/2025 SNCF Connect & Tech
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="debug d-flex flex-wrap justify-content-end pr-5 gap-05">
  <div
    class="tag"
    [ngClass]="getStatusClassName()"
    (click)="showDebug()"
    nbTooltip="Show details"
  >
    Status | <strong class="ml-1">{{ getStatusLabel() }}</strong>
  </div>

  <div
    class="tag topic"
    *ngIf="message.data.answer?.topic && message.data.answer?.topic !== 'unknown'"
    (click)="showDebug()"
    nbTooltip="Show details"
  >
    Topic | <strong class="ml-1">{{ message.data.answer?.topic }}</strong>
  </div>

  <div
    class="tag suggested-topics"
    *ngIf="message.data.answer?.suggested_topics?.length"
    (click)="showDebug()"
    nbTooltip="Show details"
  >
    Suggested topics |
    <strong class="ml-1">
      <span *ngFor="let suggestion of message.data.answer.suggested_topics">
        {{ suggestion }}
      </span>
    </strong>
  </div>

  <div
    class="tag"
    *ngIf="message.data.answer?.redirection_intent"
    (click)="showDebug()"
    nbTooltip="Show details"
  >
    Redirection intent | <strong class="ml-1">{{ message.data.answer?.redirection_intent }}</strong>
  </div>

  <div
    class="tag"
    *ngIf="message.data.answer?.confidence_score"
    [ngStyle]="{ 'background-color': getConfidenceBgColor().bg, color: getConfidenceBgColor().fg }"
    (click)="showDebug()"
    nbTooltip="Show details"
  >
    Confidence | <strong class="ml-1">{{ message.data.answer?.confidence_score }}</strong>
  </div>
</div>
