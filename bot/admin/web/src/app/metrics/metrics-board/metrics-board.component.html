<div class="mt-3">
  <h1>Custom metrics</h1>
</div>

<nb-card>
  <nb-card-header class="d-flex gap-1">
    <nb-form-field>
      <nb-icon
        nbPrefix
        icon="calendar-outline"
      ></nb-icon>
      <input
        nbInput
        fieldSize="medium"
        placeholder="Pick date range"
        [nbDatepicker]="dateRangePicker"
        [(ngModel)]="range"
      />
    </nb-form-field>

    <div>
      <button
        nbButton
        ghost
        status="info"
        nbTooltip="Display metrics for the last 24 hours"
      >
        1d
      </button>
      <button
        nbButton
        ghost
        status="info"
        nbTooltip="Display metrics for the last 7 days"
      >
        7d
      </button>
      <button
        nbButton
        ghost
        status="info"
        nbTooltip="Display metrics for the last 30 days"
      >
        1m
      </button>
      <button
        nbButton
        ghost
        status="info"
        nbTooltip="Display metrics for the last 3 months"
      >
        3m
      </button>
    </div>
  </nb-card-header>

  <nb-rangepicker
    #dateRangePicker
    [(range)]="range"
  ></nb-rangepicker>

  <nb-card-body>
    <div class="row align-items-center mt-3">
      <div class="col-12 col-md-6">
        <strong>Number of queries</strong>
        <div
          echarts
          [options]="queriesStats"
        ></div>
      </div>

      <div class="col-12 col-md-6 mb-3">
        <div class="stats-line p-2">
          Number of questions
          <span class="stats-line-value">45</span>
        </div>
        <div class="stats-line p-2">
          Number of questions with answers
          <span class="stats-line-value">28</span>
        </div>
        <div class="stats-line p-2">
          Number of unanswered questions
          <span class="stats-line-value">17</span>
        </div>
        <div class="stats-line p-2 font-weight-bold">
          Bot response rate
          <span class="stats-line-value">62%</span>
        </div>
        <div class="stats-line p-2">
          Commitment rate
          <span class="stats-line-value">79%</span>
        </div>
        <div class="stats-line p-2">
          Human escalation Rate
          <span class="stats-line-value">38%</span>
        </div>
      </div>
    </div>

    <div class="row align-items-center">
      <div class="col-12 col-md-6">
        <strong>Distribution of the stories</strong>
        <div
          echarts
          [options]="storiesStats"
        ></div>
      </div>
      <div class="col-12 col-md-6">
        <div class="row">
          <div class="col-12 col-md-6">
            <strong>Satisfaction</strong>
          </div>
          <div class="col-12 col-md-6 text-right">
            <nb-select
              placeholder="Select Dimension"
              (selectedChange)="dimensionSelected()"
              size="small"
              selected="satisfaction"
            >
              <nb-option value="satisfaction">Satisfaction</nb-option>
              <nb-option value="poll">Customer survey</nb-option>
            </nb-select>
          </div>
        </div>

        <div
          echarts
          [options]="satisfactionStats"
        ></div>
      </div>
    </div>
  </nb-card-body>
</nb-card>
