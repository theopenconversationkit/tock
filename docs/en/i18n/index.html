



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Build assistants & chatbots with ease.">
      
      
        <link rel="canonical" href="https://voyages-sncf-technologies.github.io/tock/en/i18n/">
      
      
        <meta name="author" content="VSCT">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Translate bot responses - Tock</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#translate-bot-responses" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://voyages-sncf-technologies.github.io/tock/en" title="Tock" class="md-header-nav__button md-logo">
          
            <img src="../assets/images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Tock
            </span>
            <span class="md-header-nav__topic">
              
                Translate bot responses
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/voyages-sncf-technologies/tock" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    tock
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://voyages-sncf-technologies.github.io/tock/en" title="Tock" class="md-nav__button md-logo">
      
        <img src="../assets/images/logo.svg" width="48" height="48">
      
    </a>
    Tock
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/voyages-sncf-technologies/tock" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    tock
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../toc/" title="Table of contents" class="md-nav__link">
      Table of contents
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Try Tock
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Try Tock
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/studio/" title="Create your first bot" class="md-nav__link">
      Create your first bot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/slack/" title="Configure Slack" class="md-nav__link">
      Configure Slack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/messenger/" title="Configure Messenger" class="md-nav__link">
      Configure Messenger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/api/" title="Program stories" class="md-nav__link">
      Program stories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guide/platform/" title="Deploy with Docker" class="md-nav__link">
      Deploy with Docker
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Use Tock
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Use Tock
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../utilisateur/concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../utilisateur/studio/" title="Tock Studio" class="md-nav__link">
      Tock Studio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../utilisateur/channels/" title="Multichannel bot" class="md-nav__link">
      Multichannel bot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../utilisateur/i18n/" title="Multilingual bot" class="md-nav__link">
      Multilingual bot
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Develop with Tock
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Develop with Tock
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dev/modes/" title="Availables modes" class="md-nav__link">
      Availables modes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev/bot-api/" title="Tock Bot API" class="md-nav__link">
      Tock Bot API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev/integrated-bot/" title="Tock Integrated Bot" class="md-nav__link">
      Tock Integrated Bot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev/connecteurs/" title="Connectors" class="md-nav__link">
      Connectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev/i18n/" title="i18n" class="md-nav__link">
      i18n
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev/api/" title="APIs" class="md-nav__link">
      APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev/exemples-code/" title="Code samples" class="md-nav__link">
      Code samples
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Run Tock
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Run Tock
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../admin/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../admin/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../admin/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../admin/availability/" title="Availability" class="md-nav__link">
      Availability
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../admin/monitoring/" title="Monitoring" class="md-nav__link">
      Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../admin/cloud/" title="Cloud" class="md-nav__link">
      Cloud
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/why/" title="Why Tock" class="md-nav__link">
      Why Tock
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/showcase/" title="Showcase" class="md-nav__link">
      Showcase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/contact/" title="Contact us" class="md-nav__link">
      Contact us
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/contribute/" title="Contribute" class="md-nav__link">
      Contribute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/jobs/" title="Jobs" class="md-nav__link">
      Jobs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#activation" class="md-nav__link">
    Activation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-develop-for-more-than-one-locale" class="md-nav__link">
    How to develop for more than one locale
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lets-code" class="md-nav__link">
    Let's Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-format" class="md-nav__link">
    Supported format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-locale" class="md-nav__link">
    User Locale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#points-of-attention" class="md-nav__link">
    Points of attention
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-internationalization" class="md-nav__link">
    Test internationalization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#administration-interface" class="md-nav__link">
    Administration interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-different-variants" class="md-nav__link">
    The different variants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-and-export-of-data" class="md-nav__link">
    Import and export of data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="translate-bot-responses">Translate bot responses<a class="headerlink" href="#translate-bot-responses" title="Permanent link">&para;</a></h1>
<h2 id="activation">Activation<a class="headerlink" href="#activation" title="Permanent link">&para;</a></h2>
<p>The Tock framework provides an internationalization framework.
It is disabled by default.</p>
<p>To activate it, add this code when starting the bot:</p>
<div class="codehilite"><pre><span></span>    <span class="n">Translator</span><span class="p">.</span><span class="n">enabled</span> <span class="p">=</span> <span class="k">true</span>
</pre></div>


<p>or set the system property <code>-Dtock_i18n_enabled=true</code>.</p>
<h2 id="how-to-develop-for-more-than-one-locale">How to develop for more than one locale<a class="headerlink" href="#how-to-develop-for-more-than-one-locale" title="Permanent link">&para;</a></h2>
<h3 id="lets-code">Let's Code<a class="headerlink" href="#lets-code" title="Permanent link">&para;</a></h3>
<p>The code does not change once the internationalization is activated. For example: </p>
<div class="codehilite"><pre><span></span>     <span class="n">send</span><span class="p">(</span><span class="s">&quot;Arrival at {0}&quot;</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>
</pre></div>


<p>is a valid code whether the module is activated or not.</p>
<p>On the other hand, at runtime, the behavior differs significantly.</p>
<p>If internationalization is enabled, the following operations will be performed:</p>
<ol>
<li>
<p>A key will be generated from the text passed in parameter, according to the namespace (the organization of the creator of the bot)
 and the story in which this wording is requested. In the case above, it will look like <code>app_arrivals_arrival_Arrival at {0}</code> where <em>app</em> is the namespace and
<em>arrivals</em> the main intention of the story.</p>
</li>
<li>
<p>The framework checks if this key is already present.</p>
<ul>
<li>If this is the case, it uses the label present in the database for the requested locale to find the most appropriate translation (the connector or the type of interface can also be taken into account)</li>
<li>Otherwise, a key is created with the default label ("Arrival at {0}" in our example) used for the current locale</li>
</ul>
</li>
<li>
<p>It is then possible to consult and modify this label in the administration interface:</p>
</li>
</ol>
<p><img alt="Internationalization" src="../img/i18n.png" title="Internationalization" /></p>
<h3 id="supported-format">Supported format<a class="headerlink" href="#supported-format" title="Permanent link">&para;</a></h3>
<p>The supported format is the standard i18n java format used by <a href="https://docs.oracle.com/javase/10/docs/api/java/text/MessageFormat.html">MessageFormat</a>
and <a href="https://docs.oracle.com/javase/10/docs/api/java/text/ChoiceFormat.html">ChoiceFormat</a> :</p>
<div class="codehilite"><pre><span></span>    <span class="n">send</span><span class="p">(</span><span class="s">&quot;There {0,choice,0#are no files|1#is one file|1&lt;are {0,number,integer} files}.&quot;</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>  
</pre></div>


<p>In addition, Tock provides a <em>by</em> extension for dates that allows you to specify a dedicated format for the parameters:</p>
<div class="codehilite"><pre><span></span>    <span class="n">send</span><span class="p">(</span><span class="s">&quot;Departure at {0}&quot;</span><span class="p">,</span> <span class="n">departureDateTime</span> <span class="k">by</span> <span class="n">timeFormat</span><span class="p">)</span> 
</pre></div>


<h3 id="user-locale">User Locale<a class="headerlink" href="#user-locale" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>When possible, the user locale is imported from the user account of the connector. For example, if the Messenger account is configured in French, French will be automatically
used as the user locale by Tock.</p>
</li>
<li>
<p>If there is no account locale, the <code>defaultLocale</code> value is taken into account.
You can modify this default value with a system property: <code>-Dtock_default_locale=fr</code>
  </p>
</li>
<li>Finally it is possible to modify the locale of the user in the bot itself:</li>
</ul>
<div class="codehilite"><pre><span></span>    <span class="n">userPreferences</span><span class="p">.</span><span class="n">locale</span> <span class="p">=</span> <span class="n">Locale</span><span class="p">.</span><span class="n">FRENCH</span>
</pre></div>


<h3 id="points-of-attention">Points of attention<a class="headerlink" href="#points-of-attention" title="Permanent link">&para;</a></h3>
<ul>
<li>Tock's internationalization module is effective, but some practices, yet intuitive in Kotlin,
are to be banished.</li>
</ul>
<p>For example, this code works perfectly well with the disabled i18n module.</p>
<div class="codehilite"><pre><span></span>    <span class="n">send</span><span class="p">(</span><span class="s">&quot;There are $nb files&quot;</span><span class="p">)</span> <span class="c1">//DANGER!! </span>
</pre></div>


<p>but is problematic if i18n is enabled. A new label will be inserted for each different value of the <em>nb</em> variable!
 </p>
<p>If it is necessary to send "not to translate" answers, use
<em>BotBus.sendRaw</em>, <em>BotBus.endRaw</em>, or <em>String.raw</em> methods. </p>
<div class="codehilite"><pre><span></span>    <span class="n">send</span><span class="p">(</span><span class="s">&quot;There are $nb files&quot;</span><span class="p">.</span><span class="n">raw</span><span class="p">)</span> <span class="c1">//CORRECT </span>
</pre></div>


<div class="codehilite"><pre><span></span>    <span class="n">send</span><span class="p">(</span><span class="s">&quot;There are {0} files&quot;</span><span class="p">,</span> <span class="n">nb</span><span class="p">)</span> <span class="c1">//BETTER </span>
</pre></div>


<p>The risk of collision between two labels is low since the main intention of the story is part of the key.
However, if you want to avoid any risk, you can use the <em>i18nKey</em> method:    </p>
<div class="codehilite"><pre><span></span>    <span class="n">send</span><span class="p">(</span><span class="n">i18nKey</span><span class="p">(</span><span class="s">&quot;my_unique_key&quot;</span><span class="p">,</span> <span class="s">&quot;There are {0} files&quot;</span><span class="p">,</span> <span class="n">nb</span><span class="p">))</span> 
</pre></div>


<h3 id="test-internationalization">Test internationalization<a class="headerlink" href="#test-internationalization" title="Permanent link">&para;</a></h3>
<p>An example of an i18n test is available in the
<a href="https://github.com/voyages-sncf-technologies/tock-bot-open-data/tree/master/src/test/kotlin/fr/vsct/tock/bot/open/data/rule">open data bot source code</a>.
You need to use a custom <a href="https://github.com/voyages-sncf-technologies/tock-bot-open-data/blob/master/src/test/kotlin/fr/vsct/tock/bot/open/data/rule/OpenDataJUnitExtension.kt">test extension</a>
to indicate the <a href="https://github.com/voyages-sncf-technologies/tock-bot-open-data/blob/master/src/test/kotlin/fr/vsct/tock/bot/open/data/rule/TranslatorEngineMock.kt">label translations</a>.</p>
<p>And the test looks like:</p>
<div class="codehilite"><pre><span></span>    <span class="n">@Test</span>
    <span class="k">fun</span> <span class="nf">`search story asks for departure date WHEN there is a destination and an origin but no departure date in context`</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">ext</span><span class="p">.</span><span class="n">newRequest</span><span class="p">(</span><span class="s">&quot;Recherche&quot;</span><span class="p">,</span> <span class="n">search</span><span class="p">,</span> <span class="n">locale</span> <span class="p">=</span> <span class="n">Locale</span><span class="p">.</span><span class="n">FRENCH</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">destination</span> <span class="p">=</span> <span class="n">lille</span>
            <span class="n">origin</span> <span class="p">=</span> <span class="n">paris</span>

            <span class="n">run</span><span class="p">()</span>

            <span class="n">firstAnswer</span><span class="p">.</span><span class="n">assertText</span><span class="p">(</span><span class="s">&quot;Quand souhaitez-vous partir?&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>


<h2 id="administration-interface">Administration interface<a class="headerlink" href="#administration-interface" title="Permanent link">&para;</a></h2>
<h3 id="the-different-variants">The different variants<a class="headerlink" href="#the-different-variants" title="Permanent link">&para;</a></h3>
<p>Each label has a default value for each language of the bot.</p>
<p>It is also possible to indicate specific answers:</p>
<ul>
<li>by connector type (Messenger, Google Assistant, Slack, etc.)</li>
<li>by type of interface (Text or voice) - this is useful for example in the case of Google Assistant to support
 the voice only use cases.</li>
</ul>
<p>Finally, you can specify <em>alternatives</em>.
In this case, the bot uses one of the possible alternatives at random, each time it sends a response to the user.</p>
<h3 id="import-and-export-of-data">Import and export of data<a class="headerlink" href="#import-and-export-of-data" title="Permanent link">&para;</a></h3>
<p>Labels import/export (json or csv format) is available. When importing, only
labels indicated as <em>validated</em> are taken into account.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017/2019 VSCT
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/voyages-sncf-technologies/tock" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>